{"version":3,"sources":["assets/Script/Controller/GameController.js"],"names":["cc","Class","Component","properties","grid","type","Node","audioButton","audioSource","AudioSource","onLoad","node","parent","getChildByName","on","callback","gameModel","GameModel","init","gridScript","getComponent","setController","initWithCellModels","getCells","find","_components","audio","state","_state","pause","play","selectCell","pos","cleanCmd"],"mappings":";;;;;;AAAA;;AACA;;;;AAEAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAEPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAE;AACJ,iBAAS,IADL;AAEJC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFL,KADI;AAKVC,IAAAA,WAAW,EAAE;AACX,iBAAS,IADE;AAEXF,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFE,KALH;AASVE,IAAAA,WAAW,EAAE;AACXH,MAAAA,IAAI,EAAEL,EAAE,CAACS;AADE;AATH,GAFL;AAeP;AACAC,EAAAA,MAAM,EAAE,kBAAY;AAClB,QAAIH,WAAW,GAAG,KAAKI,IAAL,CAAUC,MAAV,CAAiBC,cAAjB,CAAgC,aAAhC,CAAlB;AACAN,IAAAA,WAAW,CAACO,EAAZ,CAAe,OAAf,EAAwB,KAAKC,QAA7B,EAAuC,IAAvC;AACA,SAAKC,SAAL,GAAiB,IAAIC,qBAAJ,EAAjB;AACA,SAAKD,SAAL,CAAeE,IAAf,CAAoB,CAApB;AACA,QAAIC,UAAU,GAAG,KAAKf,IAAL,CAAUgB,YAAV,CAAuB,UAAvB,CAAjB;AACAD,IAAAA,UAAU,CAACE,aAAX,CAAyB,IAAzB;AACAF,IAAAA,UAAU,CAACG,kBAAX,CAA8B,KAAKN,SAAL,CAAeO,QAAf,EAA9B;AACA,SAAKf,WAAL,GAAmBR,EAAE,CAACwB,IAAH,CAAQ,kBAAR,EAA4BC,WAA5B,CAAwC,CAAxC,EAA2CC,KAA9D;AACD,GAzBM;AA2BPX,EAAAA,QAAQ,EAAE,oBAAY;AACpB,QAAIY,KAAK,GAAG,KAAKnB,WAAL,CAAiBoB,MAA7B;AACAD,IAAAA,KAAK,KAAK,CAAV,GAAc,KAAKnB,WAAL,CAAiBqB,KAAjB,EAAd,GAAyC,KAAKrB,WAAL,CAAiBsB,IAAjB,EAAzC;AACA,2BAAMH,KAAK,KAAK,CAAV,GAAc,UAAd,GAA2B,UAAjC;AACD,GA/BM;AAiCPI,EAAAA,UAAU,EAAE,oBAAUC,GAAV,EAAe;AACzB,WAAO,KAAKhB,SAAL,CAAee,UAAf,CAA0BC,GAA1B,CAAP;AACD,GAnCM;AAoCPC,EAAAA,QAAQ,EAAE,oBAAY;AACpB,SAAKjB,SAAL,CAAeiB,QAAf;AACD;AAtCM,CAAT","sourceRoot":"/","sourcesContent":["import GameModel from \"../Model/GameModel\";\nimport Toast from '../Utils/Toast';\n\ncc.Class({\n  extends: cc.Component,\n  properties: {\n    grid: {\n      default: null,\n      type: cc.Node\n    },\n    audioButton: {\n      default: null,\n      type: cc.Node\n    },\n    audioSource: {\n      type: cc.AudioSource\n    }\n  },\n  // use this for initialization\n  onLoad: function () {\n    let audioButton = this.node.parent.getChildByName('audioButton')\n    audioButton.on('click', this.callback, this)\n    this.gameModel = new GameModel();\n    this.gameModel.init(4);\n    var gridScript = this.grid.getComponent(\"GridView\");\n    gridScript.setController(this);\n    gridScript.initWithCellModels(this.gameModel.getCells());\n    this.audioSource = cc.find('Canvas/GameScene')._components[1].audio;\n  },\n\n  callback: function () {\n    let state = this.audioSource._state;\n    state === 1 ? this.audioSource.pause() : this.audioSource.play()\n    Toast(state === 1 ? 'ÂÖ≥Èó≠ËÉåÊôØÈü≥‰πêüéµ' : 'ÊâìÂºÄËÉåÊôØÈü≥‰πêüéµ' )\n  },\n\n  selectCell: function (pos) {\n    return this.gameModel.selectCell(pos);\n  },\n  cleanCmd: function () {\n    this.gameModel.cleanCmd();\n  }\n});\n"]}